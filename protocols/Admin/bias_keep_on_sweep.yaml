name: Bias and Sweep Sequence
description: Turn on Ch1 (Bias) -> Sweep Ch2 -> Turn off Ch2 -> Turn off Ch1.
version: 1.0
steps:
# 1. Connect
- action: smu/connect
  params:
    channel: 1
    mock: false
- action: smu/connect
  params:
    channel: 2
    mock: false

# 2. Configure
- action: smu/configure
  params:
    channel: 1
    compliance: 0.1
- action: smu/configure
  params:
    channel: 2
    compliance: 0.05

# 3. Bias Ch1 (Turn On and Hold)
- action: smu/set
  params:
    channel: 1
    value: 2.0
- action: smu/output
  params:
    channel: 1
    enabled: true

# 4. Sweep Ch2 (Ch1 stays on)
# We use standard sweep on Ch2, but we need to ensure Ch1 isn't affected.
# The standard smu/sweep operates on one channel.
- action: smu/sweep
  params:
    channel: 2
    start: 0.0
    stop: 1.0
    points: 11
    delay: 0.05
    keep_output_on: false 
  capture_as: ch2_data

# 5. Save Data
- action: data/save
  params:
    data: $ch2_data
    filename: bias_sweep_results

# 6. Turn Off Ch1
- action: smu/output
  params:
    channel: 1
    enabled: false
